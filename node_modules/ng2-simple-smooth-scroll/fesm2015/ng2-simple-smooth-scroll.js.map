{"version":3,"file":"ng2-simple-smooth-scroll.js.map","sources":["ng://ng2-simple-smooth-scroll/lib/ng2-simple-smooth-scroll.service.ts","ng://ng2-simple-smooth-scroll/lib/ng2-simple-smooth-scroll.directive.ts","ng://ng2-simple-smooth-scroll/lib/ng2-simple-smooth-scroll.module.ts"],"sourcesContent":["import { Injectable, Inject, PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\nexport interface ISimpleSmoothScrollOption {\n  duration?: number;\n  easing?: 'linear' | 'easeInQuad' | 'easeOutQuad' | 'easeInOutQuad' | 'easeInCubic' | 'easeOutCubic' | 'easeInOutCubic' | 'easeInQuart' | 'easeOutQuart' | 'easeInOutQuart' | 'easeInQuint' | 'easeOutQuint' | 'easeInOutQuint';\n  offset?: number;\n}\n\nexport class SimpleSmoothScrollOption {\n  public duration: number;\n  public easing: any;\n  public offset: any;\n\n  constructor(option: ISimpleSmoothScrollOption) {\n    this.duration = option.duration || 800;\n    this.offset = option.offset || 0;\n    this.easing = this.EasingFunctions[option.easing] || this.EasingFunctions['easeInOutQuad'];\n  }\n\n  /**\n   * EasingFunctions - from https://gist.github.com/gre/1650294\n   */\n  private EasingFunctions = {\n    // no easing, no acceleration\n    linear: (t) => { return t },\n    // accelerating from zero velocity\n    easeInQuad: (t) => { return t * t },\n    // decelerating to zero velocity\n    easeOutQuad: (t) => { return t * (2 - t) },\n    // acceleration until halfway, then deceleration\n    easeInOutQuad: (t) => { return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t },\n    // accelerating from zero velocity \n    easeInCubic: (t) => { return t * t * t },\n    // decelerating to zero velocity \n    easeOutCubic: (t) => { return (--t) * t * t + 1 },\n    // acceleration until halfway, then deceleration \n    easeInOutCubic: (t) => { return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1 },\n    // accelerating from zero velocity \n    easeInQuart: (t) => { return t * t * t * t },\n    // decelerating to zero velocity \n    easeOutQuart: (t) => { return 1 - (--t) * t * t * t },\n    // acceleration until halfway, then deceleration\n    easeInOutQuart: (t) => { return t < .5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t },\n    // accelerating from zero velocity\n    easeInQuint: (t) => { return t * t * t * t * t },\n    // decelerating to zero velocity\n    easeOutQuint: (t) => { return 1 + (--t) * t * t * t * t },\n    // acceleration until halfway, then deceleration \n    easeInOutQuint: (t) => { return t < .5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t }\n  }\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SimpleSmoothScrollService {\n\n  constructor(@Inject(PLATFORM_ID) private platformId: Object) { }\n\n  public smoothScroll(height: number, opt: ISimpleSmoothScrollOption) {\n    if (isPlatformBrowser(this.platformId)) {\n      const option = new SimpleSmoothScrollOption(opt);\n      const duration = option.duration;\n      const doc = document.documentElement;\n      const begin = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n      const t = 10;\n      const tick = 1 / (duration / t);\n      height += option.offset;\n      const distance = height - begin;\n      if (distance == 0) return;\n      let time = 0;\n      let y, current;\n      let s = setInterval(function () {\n        y = option.easing(time);\n        current = y * distance + begin;\n        if (current >= height && distance > 0) {\n          current = height;\n          clearInterval(s);\n        }\n        if (current < height + tick && distance < 0) {\n          current = height;\n          clearInterval(s);\n        }\n        if (current < 0 && distance < 0) {\n          current = 0;\n          clearInterval(s);\n        }\n        window.scrollTo(0, current);\n        time += tick;\n      }, t);\n    }\n  }\n\n  public smoothScrollToTop(opt: ISimpleSmoothScrollOption = {}) {\n    this.smoothScroll(0, opt);\n  }\n\n  public smoothScrollToAnchor(opt: ISimpleSmoothScrollOption = {}) {\n    if (isPlatformBrowser(this.platformId)) {\n      let eid = window.location.hash;\n      if (eid)\n        eid = eid.replace('#', '');\n      let target = document.getElementById(eid);\n      if (target)\n        this.smoothScroll(target.offsetTop, opt);\n    }\n  }\n}","import { Directive, Input, ElementRef, HostListener, Inject, PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { SimpleSmoothScrollService } from './ng2-simple-smooth-scroll.service';\n\n@Directive({\n  selector: '[SimpleSmoothScroll]'\n})\nexport class SimpleSmoothScrollDirective {\n  @Input('scrollTo') private scrollTo: string;\n  @Input('duration') private duration: number;\n  @Input('offset') private offset: number;\n  @Input('easing') private easing: 'linear' | 'easeInQuad' | 'easeOutQuad' | 'easeInOutQuad' | 'easeInCubic' | 'easeOutCubic' | 'easeInOutCubic' | 'easeInQuart' | 'easeOutQuart' | 'easeInOutQuart' | 'easeInQuint' | 'easeOutQuint' | 'easeInOutQuint';\n  @Input('showHash') private showHash: boolean;\n\n  constructor(\n    private el: ElementRef,\n    private smooth: SimpleSmoothScrollService,\n    @Inject(PLATFORM_ID) private platformId: Object,\n  ) { }\n\n  @HostListener('click') onClick() {\n    if (isPlatformBrowser(this.platformId)) {\n      let eid = this.el.nativeElement.hash;\n      if (eid) {\n        if (this.showHash) {\n          // Change URL hash without page jump\n          history.pushState(null, null, eid);\n        }\n        eid = eid.replace('#', '');\n      }\n      let target = document.getElementById(eid) || document.getElementById(this.scrollTo);\n      if (target)\n        this.smooth.smoothScroll(target.offsetTop, { duration: this.duration, easing: this.easing, offset: this.offset });\n      return false;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { SimpleSmoothScrollService } from './ng2-simple-smooth-scroll.service';\nimport { SimpleSmoothScrollDirective } from './ng2-simple-smooth-scroll.directive';\n\n@NgModule({\n  declarations: [SimpleSmoothScrollDirective],\n  providers: [SimpleSmoothScrollService],\n  exports: [SimpleSmoothScrollDirective]\n})\nexport class SimpleSmoothScrollModule { }\n"],"names":[],"mappings":"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"}
