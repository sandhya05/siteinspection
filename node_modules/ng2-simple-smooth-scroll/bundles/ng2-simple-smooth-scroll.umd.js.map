{"version":3,"file":"ng2-simple-smooth-scroll.umd.js.map","sources":["ng://ng2-simple-smooth-scroll/lib/ng2-simple-smooth-scroll.service.ts","ng://ng2-simple-smooth-scroll/lib/ng2-simple-smooth-scroll.directive.ts","ng://ng2-simple-smooth-scroll/lib/ng2-simple-smooth-scroll.module.ts"],"sourcesContent":["import { Injectable, Inject, PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\nexport interface ISimpleSmoothScrollOption {\n  duration?: number;\n  easing?: 'linear' | 'easeInQuad' | 'easeOutQuad' | 'easeInOutQuad' | 'easeInCubic' | 'easeOutCubic' | 'easeInOutCubic' | 'easeInQuart' | 'easeOutQuart' | 'easeInOutQuart' | 'easeInQuint' | 'easeOutQuint' | 'easeInOutQuint';\n  offset?: number;\n}\n\nexport class SimpleSmoothScrollOption {\n  public duration: number;\n  public easing: any;\n  public offset: any;\n\n  constructor(option: ISimpleSmoothScrollOption) {\n    this.duration = option.duration || 800;\n    this.offset = option.offset || 0;\n    this.easing = this.EasingFunctions[option.easing] || this.EasingFunctions['easeInOutQuad'];\n  }\n\n  /**\n   * EasingFunctions - from https://gist.github.com/gre/1650294\n   */\n  private EasingFunctions = {\n    // no easing, no acceleration\n    linear: (t) => { return t },\n    // accelerating from zero velocity\n    easeInQuad: (t) => { return t * t },\n    // decelerating to zero velocity\n    easeOutQuad: (t) => { return t * (2 - t) },\n    // acceleration until halfway, then deceleration\n    easeInOutQuad: (t) => { return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t },\n    // accelerating from zero velocity \n    easeInCubic: (t) => { return t * t * t },\n    // decelerating to zero velocity \n    easeOutCubic: (t) => { return (--t) * t * t + 1 },\n    // acceleration until halfway, then deceleration \n    easeInOutCubic: (t) => { return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1 },\n    // accelerating from zero velocity \n    easeInQuart: (t) => { return t * t * t * t },\n    // decelerating to zero velocity \n    easeOutQuart: (t) => { return 1 - (--t) * t * t * t },\n    // acceleration until halfway, then deceleration\n    easeInOutQuart: (t) => { return t < .5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t },\n    // accelerating from zero velocity\n    easeInQuint: (t) => { return t * t * t * t * t },\n    // decelerating to zero velocity\n    easeOutQuint: (t) => { return 1 + (--t) * t * t * t * t },\n    // acceleration until halfway, then deceleration \n    easeInOutQuint: (t) => { return t < .5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t }\n  }\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SimpleSmoothScrollService {\n\n  constructor(@Inject(PLATFORM_ID) private platformId: Object) { }\n\n  public smoothScroll(height: number, opt: ISimpleSmoothScrollOption) {\n    if (isPlatformBrowser(this.platformId)) {\n      const option = new SimpleSmoothScrollOption(opt);\n      const duration = option.duration;\n      const doc = document.documentElement;\n      const begin = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n      const t = 10;\n      const tick = 1 / (duration / t);\n      height += option.offset;\n      const distance = height - begin;\n      if (distance == 0) return;\n      let time = 0;\n      let y, current;\n      let s = setInterval(function () {\n        y = option.easing(time);\n        current = y * distance + begin;\n        if (current >= height && distance > 0) {\n          current = height;\n          clearInterval(s);\n        }\n        if (current < height + tick && distance < 0) {\n          current = height;\n          clearInterval(s);\n        }\n        if (current < 0 && distance < 0) {\n          current = 0;\n          clearInterval(s);\n        }\n        window.scrollTo(0, current);\n        time += tick;\n      }, t);\n    }\n  }\n\n  public smoothScrollToTop(opt: ISimpleSmoothScrollOption = {}) {\n    this.smoothScroll(0, opt);\n  }\n\n  public smoothScrollToAnchor(opt: ISimpleSmoothScrollOption = {}) {\n    if (isPlatformBrowser(this.platformId)) {\n      let eid = window.location.hash;\n      if (eid)\n        eid = eid.replace('#', '');\n      let target = document.getElementById(eid);\n      if (target)\n        this.smoothScroll(target.offsetTop, opt);\n    }\n  }\n}","import { Directive, Input, ElementRef, HostListener, Inject, PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { SimpleSmoothScrollService } from './ng2-simple-smooth-scroll.service';\n\n@Directive({\n  selector: '[SimpleSmoothScroll]'\n})\nexport class SimpleSmoothScrollDirective {\n  @Input('scrollTo') private scrollTo: string;\n  @Input('duration') private duration: number;\n  @Input('offset') private offset: number;\n  @Input('easing') private easing: 'linear' | 'easeInQuad' | 'easeOutQuad' | 'easeInOutQuad' | 'easeInCubic' | 'easeOutCubic' | 'easeInOutCubic' | 'easeInQuart' | 'easeOutQuart' | 'easeInOutQuart' | 'easeInQuint' | 'easeOutQuint' | 'easeInOutQuint';\n  @Input('showHash') private showHash: boolean;\n\n  constructor(\n    private el: ElementRef,\n    private smooth: SimpleSmoothScrollService,\n    @Inject(PLATFORM_ID) private platformId: Object,\n  ) { }\n\n  @HostListener('click') onClick() {\n    if (isPlatformBrowser(this.platformId)) {\n      let eid = this.el.nativeElement.hash;\n      if (eid) {\n        if (this.showHash) {\n          // Change URL hash without page jump\n          history.pushState(null, null, eid);\n        }\n        eid = eid.replace('#', '');\n      }\n      let target = document.getElementById(eid) || document.getElementById(this.scrollTo);\n      if (target)\n        this.smooth.smoothScroll(target.offsetTop, { duration: this.duration, easing: this.easing, offset: this.offset });\n      return false;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { SimpleSmoothScrollService } from './ng2-simple-smooth-scroll.service';\nimport { SimpleSmoothScrollDirective } from './ng2-simple-smooth-scroll.directive';\n\n@NgModule({\n  declarations: [SimpleSmoothScrollDirective],\n  providers: [SimpleSmoothScrollService],\n  exports: [SimpleSmoothScrollDirective]\n})\nexport class SimpleSmoothScrollModule { }\n"],"names":["isPlatformBrowser","Injectable","Inject","PLATFORM_ID","Directive","ElementRef","Input","HostListener","NgModule"],"mappings":"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"}
